# ===========================================
# Vendly POS - Environment Configuration
# ===========================================
# Copy this file to .env and update values for your environment

# ============================================
# Application Settings
# ============================================
APP_NAME=Vendly
APP_ENV=development
DEBUG=true
SECRET_KEY=your-super-secret-key-change-in-production

# ============================================
# Database Configuration
# ============================================
DATABASE_URL=postgresql://vendly:vendly_password@postgres:5432/vendly_db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# SQLite (for local development)
# DATABASE_URL=sqlite:///./vendly.db

# ============================================
# Redis Configuration
# ============================================
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=
REDIS_DB=0
CACHE_TTL=3600

# ============================================
# JWT Authentication
# ============================================
JWT_SECRET=change-me-in-production-use-strong-secret
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# CORS Settings
# ============================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================
# Kafka Configuration (Event Streaming)
# ============================================
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_CONSUMER_GROUP=vendly-pos-group
KAFKA_TOPIC_SALES=sales-events
KAFKA_TOPIC_INVENTORY=inventory-events

# ============================================
# Audit Logging
# ============================================
AUDIT_LOG_ENABLED=true
AUDIT_LOG_FILE=audit.log
AUDIT_LOG_LEVEL=INFO

# ============================================
# Session Management
# ============================================
# Session timeout in minutes (inactivity)
SESSION_TIMEOUT_MINUTES=15
# Warning time before logout in seconds
SESSION_WARNING_SECONDS=60
# Debounce time for activity tracking in milliseconds
ACTIVITY_DEBOUNCE_MS=5000

# ============================================
# Two-Factor Authentication (2FA)
# ============================================
TWO_FACTOR_ENABLED=true
# Number of backup codes to generate
TWO_FACTOR_BACKUP_CODES=10
# TOTP time window tolerance (Â±30 seconds = window of 1)
TWO_FACTOR_TOTP_WINDOW=1
# Roles that require 2FA
TWO_FACTOR_REQUIRED_ROLES=admin,manager
# Rate limit for 2FA verification attempts
TWO_FACTOR_RATE_LIMIT=5/minute

# ============================================
# Monitoring & Logging
# ============================================
LOG_LEVEL=INFO
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ============================================
# AI/ML Services
# ============================================
ML_MODEL_PATH=/app/ai_ml/models
ENABLE_PREDICTIONS=true
PREDICTION_THRESHOLD=0.8

# ============================================
# External Services
# ============================================
PAYMENT_GATEWAY_URL=https://api.payment-gateway.com
PAYMENT_API_KEY=your-payment-api-key

# ============================================
# File Storage
# ============================================
STORAGE_TYPE=local
STORAGE_PATH=/app/uploads
# For S3:
# S3_BUCKET=vendly-uploads
# S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

# ============================================
# Email Configuration (Optional)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=noreply@vendly.com

# ============================================
# Frontend Configuration (NEXT_PUBLIC_*)
# ============================================
# Session Management (must be same as backend)
NEXT_PUBLIC_SESSION_TIMEOUT_MIN=15
NEXT_PUBLIC_SESSION_WARNING_SEC=60
NEXT_PUBLIC_ACTIVITY_DEBOUNCE_MS=5000

# Two-Factor Authentication
NEXT_PUBLIC_TWO_FACTOR_ENABLED=true

# Stripe Payments
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxx

# API Configuration
NEXT_PUBLIC_API_URL=http://localhost:8000

